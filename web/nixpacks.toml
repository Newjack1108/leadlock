# Next.js Frontend Build Configuration
# This file is for the web frontend only. Root directory must be set to 'web' in Railway.
# Nixpacks will auto-detect Node.js from package.json, but we specify it explicitly here.

[phases.setup]
nixPkgs = ["nodejs"]

[phases.install]
cmds = ["npm ci"]

[phases.build]
cmds = ["npm run build"]

[start]
# start.sh uses node so Next runs without relying on PATH/npx
cmd = "sh start.sh"
