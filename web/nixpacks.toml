# Next.js Frontend Build Configuration
# This file is for the web frontend only. Root directory must be set to 'web' in Railway.
# Nixpacks will auto-detect Node.js from package.json, but we specify it explicitly here.

[phases.setup]
nixPkgs = ["nodejs"]

[phases.install]
cmds = ["npm ci"]

[phases.build]
cmds = ["npm run build"]

[start]
# Login shell so .profile is sourced (PATH has node + node_modules/.bin)
cmd = "sh -l -c 'npm start'"
